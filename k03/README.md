# 課題3 レポート
学生番号35319034　氏名林健太郎


## 課題  

以下の2つのアルゴリズムで文字列を検索するプログラムを作成する。  
- 力ずく法
- BM法

1. 使用するデータ  
以下のデータを使用する。ただし、検索対象文字列、検索する文字列は変更しても良い。  
    - StrOriginal: 検索対象データ
    - StrKey: 検索する文字列

2. 必須問題：実装する関数  
本課題では、以下の関数を実装する。C言語の標準ライブラリは使用しないこと。  
    (1) ForceSearch: 力ずく法で文字列を検索する。  
    [入力]  
    - char text[]: 検索対象文字列   
    - char key[]: 検索する文字列  

    [出力]  
    - return値：検索する文字列が出現した場所(ポインタ)。ただし、検索する文字列が見つからない場合はNULL。  

    (2) BMSearch: BM法で文字列を検索する。  
    [入力]  
    - char text[]: 検索対象文字列  
    - char key[]: 検索する文字列  
 
    [出力]  
    - return値：検索する文字列が出現した場所(ポインタ)。ただし、検索する文字列が見つからない場合はNULL。  

3. 補助関数  
なし

## ソースコードの説明
　ForceSearch関数では、力ずく法で文字列を検索する。まず、strlenでtext_lenに検索対象文字列の長さを、key_lenに検索する文字列の長さを代入する。一つ目のfor文では、比較開始位置をstartと置き、start<(text_len - key_len)の間だけstartを増やしていくことで比較対象がなくなるまで検索することができる。二つ目のfor文では、比較場所の先頭をposと置き、posを増やしていくことで検索する文字列を最後まで比較することが出来る。次のif文で比較した場所と検索文字列が一致しているかを確認する。二つ目のif文ですべての文字が一致した場合にその位置以降の文字列を出すことで検索したことになる。
　
　BMSearch関数では、BM法で文字列を検索する。まず、検索する文字列と検索対象文字列を比較して不一致となった場合に文字毎にどれだけずらすかを示すテーブルを用意する。最初はwhile文で比較位置が探索対象文字列の中にあるかを判定する。次にfor文で検索対象の後ろの方から一文字ずつ前に位置をずらして比較していく、pos=0になったとき、つまり完全に一致した場合に&text[start]でリターン値を返すことでその位置以降の文字列を出して検索したことになる。startはif文内で減らされる場合があるので、start2にstartを保存しておく。start += table[text[start]]とif文で比較開始位置を計算する。


## 出力結果

```
Force Search. Find keyword at:wind in my hair.
BM Search. Find keyword at: wind in my hair.
```

## 修正履歴
修正前は、文字を比較した後、returnする前にstart--を実行しているので、test[start]はキーの先頭より一つ前の文字('w'の前の文字)をさしていました。キーの先頭('w'の位置)をさすためにstartに+1する。
